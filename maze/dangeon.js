let castle={
cab1:
 [['0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
  ['0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
  ['0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
  ['0','0','0','0','0','0','0','0','0','0','0','0','u','0','0','0','0'],
  ['0','0','0','0','0','0','0','0','0','0','0','0','1','0','0','0','0'],
  ['0','0','0','0','0','0','0','0','0','0','0','0','d3','0','0','0','0'],
  ['0','0','0','0','0','0','0','0','0','0','0','c','c','c','0','0','0'],
  ['0','0','0','0','0','0','0','0','0','0','0','c','c','c1','0','0','0'],
  ['0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
  ['0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
  ['0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
  ['0','0','0','0','0','0','0','0','0','0','0','0','1','1','1','1','z'],
  ['0','0','0','0','0','0','0','0','0','0','0','0','u','0','0','0','0'],
  ['0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
  ['0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
  ['0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
  ['0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0']
    ],

ca:
 [['u','1','0','0','0','0','0','0','0','0','0','0','0','0','0','1','u'],
  ['1','1','d','1','1','1','1','1','1','1','1','1','1','1','d','1','1'],
  ['0','d','0','0','0','0','0','0','d','0','0','0','0','0','0','d','0'],
  ['0','1','0','0','0','0','0','0','1','0','0','0','0','0','0','1','0'],
  ['0','1','0','v','1','1','d','1','1','1','0','u','v','0','0','1','0'],
  ['0','1','0','0','1','1','0','0','1','0','0','0','0','0','0','1','0'],
  ['0','1','d','1','0','d','0','0','0','0','0','0','1','1','d','1','0'],
  ['0','1','0','0','0','1','1','1','1','1','1','1','0','0','0','1','0'],
  ['0','1','0','0','s','0','0','0','1','0','0','0','s','0','0','1','0'],
  ['0','1','0','0','1','0','1','0','1','0','1','0','1','0','0','1','0'],
  ['0','1','0','0','1','d','1','0','1','0','1','d','1','0','0','1','0'],
  ['0','1','0','0','0','0','1','0','1','0','1','0','0','0','0','1','0'],
  ['0','1','0','0','1','d','1','0','1','0','1','0','v','0','0','1','0'],
  ['0','1','0','0','1','0','0','0','1','0','0','0','1','0','0','1','0'],
  ['0','d','0','0','d','0','0','0','d','0','0','0','d','0','0','d','0'],
  ['1','1','d3','1','1','s','0','1','1','1','0','s','1','1','d','1','1'],
  ['u','1','0','0','0','0','0','d1','d1','d1','0','0','0','0','0','1','u']
  ],ca_:
 [['u','1','0','0','0','0','0','0','0','0','0','0','0','0','0','1','u'],
  ['1','1','d','1','1','1','1','1','1','1','1','1','1','1','d','1','1'],
  ['0','d','0','0','0','0','0','0','d','0','0','0','0','0','0','d','0'],
  ['0','1','0','0','0','0','0','0','1','0','0','0','0','0','0','1','0'],
  ['0','1','0','v','1','1','d','1','1','1','0','u','v','0','0','1','0'],
  ['0','1','0','0','1','0','0','0','0','0','0','0','0','0','0','1','0'],
  ['0','1','d','1','1','d','1','0','k','0','1','d','1','1','d','1','0'],
  ['0','1','0','0','0','0','1','1','1','1','1','0','0','0','0','1','0'],
  ['0','1','0','0','s','0','1','0','1','0','1','0','s','0','0','1','0'],
  ['0','1','0','0','1','0','1','1','1','1','1','0','1','0','0','1','0'],
  ['0','1','0','0','1','d','1','0','1','0','1','d','1','0','0','1','0'],
  ['0','1','0','0','0','0','1','1','1','1','1','0','0','0','0','1','0'],
  ['0','1','0','0','1','d','1','0','d','0','1','0','v','0','0','1','0'],
  ['0','1','0','0','1','0','0','0','h','0','0','0','1','0','0','1','0'],
  ['0','d','0','0','d','0','0','0','d','0','0','0','d','0','0','d','0'],
  ['1','1','d3','1','1','s','0','1','1','1','0','s','1','1','d','1','1'],
  ['u','1','0','0','0','0','0','d1','d1','d1','0','0','0','0','0','1','u']
  ],
 ca2:
 [['v','1','0','0','0','0','0','0','0','0','0','0','0','0','0','1','v'],
  ['1','u','0','0','0','0','0','0','0','0','0','0','0','0','0','1','1'],
  ['0','0','0','0','0','1','1','d','1','d','1','1','0','0','0','0','0'],
  ['0','0','0','0','0','1','1','0','1','0','1','u','0','0','0','0','0'],
  ['0','0','0','0','0','0','0','0','d','0','0','0','0','0','0','0','0'],
  ['0','0','0','0','1','1','0','1','1','1','0','1','1','0','0','0','0'],
  ['0','0','0','0','1','1','d','1','1','1','d','1','1','0','0','0','0'],
  ['0','0','0','0','1','0','0','0','1','0','0','0','1','0','0','0','0'],
  ['0','0','0','0','w','0','0','0','1','0','0','0','w','0','0','0','0'],
  ['0','0','0','0','0','0','0','0','s','0','0','0','0','0','0','0','0'],
  ['0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
  ['0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
  ['0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
  ['0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
  ['0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
  ['1','1','0','0','0','w','1','1','p','1','1','w','0','0','0','u','1'],
  ['v','1','0','0','0','0','0','q','1','q','0','0','0','0','0','1','v'],
  ['0','0','0','1','1','0','0','0','0','0','0','0','1','1','0','0','0']
    ],
 ca3:
 [['u','1','0','0','0','0','0','0','0','0','0','0','0','0','0','1','u'],
  ['1','v','0','0','0','0','0','0','0','0','1','1','0','0','0','v','1'],
  ['0','0','0','0','0','0','0','0','0','0','1','1','0','0','0','0','0'],
  ['0','0','0','0','0','0','0','0','0','0','0','v','0','0','0','0','0'],
  ['0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
  ['0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
  ['0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
  ['0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
  ['0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
  ['0','0','0','0','0','0','0','0','w','0','0','0','0','0','0','0','0'],
  ['0','0','0','0','0','0','s','0','1','0','s','0','0','0','0','0','0'],
  ['0','0','0','0','0','0','1','0','1','0','1','0','0','0','0','0','0'],
  ['0','0','0','0','0','0','1','1','1','1','1','0','0','0','0','0','0'],
  ['0','0','0','0','0','0','1','1','1','1','1','0','0','0','0','0','0'],
  ['0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
  ['1','v','0','0','w','1','1','1','1','1','1','1','w','0','0','v','1'],
  ['u','1','0','0','0','0','0','1','1','1','0','0','0','0','0','1','u'],
  ['0','0','0','1','1','0','0','0','0','0','0','0','1','1','0','0','0']
  ],
 ca4:
 [['v','1','0','0','0','0','0','0','0','0','0','0','0','0','0','1','v'],
  ['1','u','0','0','0','0','0','1','1','1','0','0','0','0','0','u','1'],
  ['0','0','0','0','0','0','0','1','1','1','0','0','0','0','0','0','0'],
  ['0','0','0','0','0','0','0','1','1','1','0','0','0','0','0','0','0'],
  ['0','0','0','0','0','0','0','0','d','0','0','0','0','0','0','0','0'],
  ['0','0','0','0','0','0','1','1','1','1','1','0','0','0','0','0','0'],
  ['0','0','0','1','1','d','1','1','1','1','1','d','1','1','0','0','0'],
  ['0','0','0','1','1','0','1','0','1','0','1','0','1','1','0','0','0'],
  ['0','0','0','0','0','0','1','0','1','0','1','0','0','0','0','0','0'],
  ['0','0','0','0','0','0','1','0','s','0','1','0','0','0','0','0','0'],
  ['0','0','0','0','0','0','w','0','0','0','w','0','0','0','0','0','0'],
  ['0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
  ['0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
  ['0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
  ['0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
  ['1','u','0','0','0','0','0','0','0','0','0','0','0','0','0','u','1'],
  ['v','1','0','0','0','0','0','0','0','0','0','0','0','0','0','1','v']
  ],
 ca4:
 [['u','1','0','0','0','0','0','0','0','0','0','0','0','0','0','1','u'],
  ['1','v','0','0','0','0','0','0','0','0','0','0','0','0','0','v','1'],
  ['0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
  ['0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
  ['0','0','0','0','0','1','1','0','0','0','0','0','0','0','0','0','0'],
  ['0','0','0','0','0','1','1','0','0','0','1','1','0','0','0','0','0'],
  ['0','0','0','0','0','0','d','0','1','1','1','1','0','0','0','0','0'],
  ['0','0','0','0','0','1','1','d','1','1','0','d','0','0','0','0','0'],
  ['0','0','0','0','0','1','1','0','0','0','1','1','0','0','0','0','0'],
  ['0','0','0','0','0','1','0','0','w','0','1','1','0','0','0','0','0'],
  ['0','0','0','0','0','d','0','0','1','0','d','0','0','0','0','0','0'],
  ['0','0','0','0','0','1','1','0','1','0','1','1','0','0','0','0','0'],
  ['0','0','0','0','0','1','1','d','1','d','1','1','0','0','0','0','0'],
  ['0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
  ['0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
  ['1','v','0','0','0','0','0','0','0','0','0','0','0','0','0','v','1'],
  ['u','1','0','0','0','0','0','0','0','0','0','0','0','0','0','1','u']
  ],
 ca5:
 [['v','1','0','0','0','0','0','0','0','0','0','0','0','0','0','1','v'],
  ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
  ['0','1','u','0','0','0','0','0','0','0','0','0','0','0','u','1','0'],
  ['0','1','0','0','0','0','0','0','0','0','0','0','0','0','0','1','0'],
  ['0','1','0','0','0','0','0','0','0','0','0','0','0','0','0','1','0'],
  ['0','1','0','0','0','0','0','0','0','0','0','0','0','0','0','1','0'],
  ['0','1','0','0','0','0','0','0','0','0','0','0','0','0','0','1','0'],
  ['0','1','0','0','0','0','0','0','0','0','0','0','0','0','0','1','0'],
  ['0','1','0','0','0','0','0','0','0','0','0','0','0','0','0','1','0'],
  ['0','1','0','0','0','0','0','0','0','0','0','0','0','0','0','1','0'],
  ['0','1','0','0','0','0','0','0','0','0','0','0','0','0','0','1','0'],
  ['0','1','0','0','0','0','0','0','0','0','0','0','0','0','0','1','0'],
  ['0','1','0','0','0','0','0','0','0','0','0','0','0','0','0','1','0'],
  ['0','1','0','0','0','0','0','0','0','0','0','0','0','0','0','1','0'],
  ['0','1','u','0','0','0','0','0','0','0','0','0','0','0','u','1','0'],
  ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
  ['v','1','0','0','0','0','0','1','1','1','0','0','0','0','0','1','v']
  ],
 ca6:
 [['1','1','0','0','0','0','0','0','0','0','0','0','0','0','0','1','1'],
  ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
  ['0','1','v','0','0','0','0','0','0','0','0','0','0','0','v','1','0'],
  ['0','1','0','0','0','0','0','0','0','0','0','0','0','0','0','1','0'],
  ['0','1','0','0','0','0','0','0','0','0','0','0','0','0','0','1','0'],
  ['0','1','0','0','0','0','0','0','0','0','0','0','0','0','0','1','0'],
  ['0','1','0','0','0','0','0','0','0','0','0','0','0','0','0','1','0'],
  ['0','1','0','0','0','0','0','0','0','0','0','0','0','0','0','1','0'],
  ['0','1','0','0','0','0','0','0','0','0','0','0','0','0','0','1','0'],
  ['0','1','0','0','0','0','0','0','0','0','0','0','0','0','0','1','0'],
  ['0','1','0','0','0','0','0','0','0','0','0','0','0','0','0','1','0'],
  ['0','1','0','0','0','0','0','0','0','0','0','0','0','0','0','1','0'],
  ['0','1','0','0','0','0','0','0','0','0','0','0','0','0','0','1','0'],
  ['0','1','0','0','0','0','0','0','0','0','0','0','0','0','0','1','0'],
  ['0','1','v','0','0','0','0','0','0','0','0','0','0','0','v','1','0'],
  ['1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'],
  ['1','1','0','0','0','0','0','1','1','1','0','0','0','0','0','1','1']
  ],
floor:['ca','ca2','ca3','ca4','ca5','ca6'],
bgm:'vacant',

h:function(){
  maze.pop(`扉の上に文字が刻まれている。<p style="text-align:center">* 控えの間 *</p>`,'no');
},
q:function(){
  maze.pop('部屋の隅に城門の巻き上げ機がある。現在は錆びついて動かないようだ。','no');
},
p:function(){             //落とし床 
  maze.set('!!!');
  maze.pop('落とし床だ！');
  document.getElementById('c1').src='maze/hall.png';
    document.getElementById('c1').classList.remove('upsidedown');
  document.getElementById('c1').style.visibility='visible';
  setTimeout(function(){maze.start('ca',p.x,p.y)},1000);
},

op:function(){
  console.log(111);document.getElementById('bg').src='maze/back_open.png';
  setTimeout(maze.pop('aaaa',10000),1000);
},

d1:function(){ maze.set(`重く頑丈な城門が堅く閉ざされている。
<a href="JavaScript:maze.go(2);maze.set(maze.menu)">　　<img src="maze/bb.png">　もどる</a>`);},
d2:function(){ maze.set(`『＊ワインセラー＊<br>兵の立ち入りを禁ず<br>盗み飲みは鞭打ち十回』
<a href="JavaScript:maze.go(0);maze.set(maze.menu)">　　<img src="maze/go.png"'>　扉を開けて中に入る</a>
<a href="JavaScript:maze.go(2);maze.set(maze.menu)">　　<img src="maze/bb.png">　もどる</a>`);},
d3:function(){ maze.set(`
<a href="JavaScript:castle.op();maze.go(0);maze.set(maze.menu);">　　<img src="maze/go.png"'>　扉を開けて中に入る</a>

<a href="JavaScript:maze.go(2);maze.set(maze.menu)">　　<img src="maze/bb.png">　もどる</a>`);},
d:function(){ maze.set(`豪華な彫刻の施された扉だ。
<a href="JavaScript:maze.go(0);maze.set(maze.menu)">　　<img src="maze/go.png"'>　扉を開けて中に入る</a>
<a href="JavaScript:maze.go(2);maze.set(maze.menu)">　　<img src="maze/bb.png">　もどる</a>`);},

s:function(){             //階段
 maze.set(`古びた階段が上へ伸びている。
<a href="JavaScript:fuga.sound('step');maze.start('ca2');maze.go(0);fuga.reset();maze.set(maze.menu)">階段を昇る</a>
<a href="JavaScript:maze.set(maze.menu);maze.go(2)">もどる</a>`);
},

w:function(){             //下り階段
  maze.pop('下りの梯子がある');
  document.getElementById('c1').src='maze/hall.png';
    document.getElementById('c1').classList.remove('upsidedown');
  document.getElementById('c1').style.visibility='visible';
  maze.set(`目の前に下りの階段が伸びている。<a href="JavaScript:fuga.sound('step');maze.start('ca',p.x,p.y);maze.go(0);maze.set(maze.menu)">下に降りる</a><a href="JavaScript:maze.set(maze.menu)">降りない</a>`);
},

v:function(){             //下り梯子　イベントグラフィック
  maze.pop('下りの梯子がある');
  document.getElementById('c1').src='maze/hall.png';
    document.getElementById('c1').classList.remove('upsidedown');
  document.getElementById('c1').style.visibility='visible';
  maze.set(`目の前の床に穴が開いており、下りの梯子が伸びている。<a href="JavaScript:maze.start('ca',p.x,p.y)">下に降りる</a><a href="JavaScript:maze.set(maze.menu)">降りない</a>`);
},

u:function(){             //昇り梯子　イベントグラフィック
  maze.pop('昇りの梯子がある');
  document.getElementById('c1').src='maze/hall.png';
  document.getElementById('c1').classList.add('upsidedown');
  document.getElementById('c1').style.visibility='visible';
  maze.set(`天井に穴が開いており、昇りの梯子が伸びている。<a href="JavaScript:maze.start('ca2')">上に昇る</a><a href="JavaScript:maze.set(maze.menu)">昇らない</a>`);
},

c:function(){             //宝箱　イベントグラフィック
  maze.pop('宝箱だ！','no');
  document.getElementById('c1').src='maze/chest.png';
  document.getElementById('c1').style.visibility='visible';
  maze.set(`目の前には古ぼけた宝箱がある。<a href="JavaScript:dangeon.open();fuga.sound('item')">宝箱を開ける</a><a href="JavaScript:maze.set(maze.menu)">開けずに立ち去る</a>`);
},
open:function(){
  maze.add(`<hr>宝箱の中身は空だった。<a href="JavaScript:maze.set(maze.menu)">次へ</a>`);
},

m:function(){             // エンカウント・モンスター
  battle.encount(['goblin','zdwarf'],['unknown','umbush']);},

zdwarf:function(){
  maze.set(`どこからか、軽やかな足音と陽気な口笛の音色が聞こえてくる。
  <a href='JavaScript:'>この場で待つ</a>
  <a href='JavaScript:maze.set(maze.menu)'>ここから去る</a>`);
},

x:function(){  //ダークゾーン入り口
  console.log('dz');
  maze.pop('ダークゾーンだ！',50);
  document.getElementById('maze').classList.add('darkzone');
},
z1:function(){ document.getElementById('maze').classList.remove('darkzone');},//ダークゾーン出口

}
